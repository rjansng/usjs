//#!date=2023-09-07
#!name=è¦çš® è‡ªå‹•åŒ– éæ¿¾
#!desc=v20240816 ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰å…ˆåˆ°ã€Œæˆ‘çš„ã€â†’ã€Œè¦çš®å¯¦åèªè­‰ã€å–å¾— tokenã€‚
#!select=é¡¯ç¤ºå¥½åº·è³‡è¨ŠB1,é è¨­:å¦,æ˜¯
#!select=éŠæˆ²é€£çµåˆ‡æ›,é è¨­:å¦,æ˜¯
//#!author=Sdany
//#!openUrl=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter_shopee.plugin

//[Rule]
//URL-REGEX,^https:\/\/mall\.shopee\.tw\/api\/v4\/recommend\/recommend.+,REJECT
#http-request ^https:\/\/mall\.shopee\.tw\/api\/v4\/search\/search_items\?.+   script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/search_items_taiwan.js                                      , requires-body=false, tag=å°‹æ‰¾ è‡ªå‹•åŠ å…¥ å°ç£, enabled=true

[Rewrite]
// ^(https:\/\/games\.shopee\.tw\/gameplatform\/api\/v\d\/redeem_store\/item_list\/store\/\d+.+limit=)[\d]{2}(.+)$ header $1100$2
^(https:\/\/shopee\.tw\/api\/v4\/paidads\/ads\?.+count=)[\d]{2,3}(.+)$ header $11$2

[Script]
http-response ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/get_user_coins$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_get_user_coins.js,                                           requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° å–å¾—ç¾æœ‰è¦å¹£, enabled=true

http-response ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/get_product_feeds_task$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/get_product_feeds_task.js,                              requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° å•†åº— ç§’æ•¸ 0, enabled=true

http-request ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/get_product_feeds\?count=.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/get_product_feeds_fake.js,                              requires-body=false, tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° å½è£å•†åº—å»£å‘Š REQ, enabled=true
http-request ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/get_redeem_category_list script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/get_redeem_category_list_fake.js,                               requires-body=false, tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° å½è£å…Œæ›åˆ¸é¡åˆ¥æ¸…å–® REQ, enabled=true

http-request ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/finish_product_feeds_task_and_claim$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/finish_product_feeds_task_and_claimQ.js,    requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° ç€è¦½å•†åº— REQ GetToken, enabled=true
http-response ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/finish_product_feeds_task_and_claim$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/finish_product_feeds_task_and_claimS.js,   requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° ç€è¦½å•†åº— RES, enabled=true
http-request ^https:\/\/games-dailycheckin\.shopee\.tw\/mkt\/coins\/api\/v2\/task\/claim$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/mkt_coins_task_claimQ.js,                        requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° é ˜ä»»å‹™è¦å¹£ REQ, enabled=true
http-response ^https:\/\/games-dailycheckin\.shopee\.tw\/mkt\/coins\/api\/v2\/task\/claim$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/mkt_coins_task_claimS.js,                       requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° é ˜ä»»å‹™è¦å¹£ RES, enabled=true
http-response ^https:\/\/games-dailycheckin\.shopee\.tw\/mkt\/coins\/api\/v\d+\/tasks\?.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/mkt_coins_tasks.js,                                requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° å–ä»»å‹™ID ç€è¦½ æ¨è–¦å•†å“ 30ç§’, enabled=true


http-response ^https:\/\/mall\.shopee\.tw\/api\/v4\/banner\/batch_list$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/batch_list.js,                                                                         requires-body=true, tag=Banner èª¿æ•´, enabled=true
                                        
http-response ^https:\/\/mall\.shopee\.tw\/api\/v4\/shop\/get_shop_tab(.*)  script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_ads_shop.js,                                                                requires-body=true, tag=éæ…®å»£å‘Šå•†å“, enabled=true
http-request ^https:\/\/mall\.shopee\.tw\/api\/v4\/recommend\/recommend.+  script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_recommend.js,                                                                requires-body=false, tag=éæ…®æ¨è–¦å•†å“, enabled=true
http-request ^https:\/\/mall\.shopee\.tw\/api\/v4\/mpi\/rcmd\/get_recommended_vouchers_by_model(.*)      script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_recommended_vouchers.js,                       requires-body=false,  tag=æˆ‘çš„å„ªæƒ åˆ¸ éš±è—æ¨è–¦å…§å®¹, enabled=true

http-request ^https:\/\/games\.shopee\.tw\/farm\/api\/brands_ads\/get_batch_item_for_item_card_full       script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_farm_brands_ads_fake.js,                         requires-body=false, tag=å•†åº—å»£å‘Šå•†å“ æœåœ’ å½è£, enabled=true
http-request ^https:\/\/shopee\.tw\/api\/v4\/paidads\/ads\?.+                                            script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_paidads_fake.js,                                requires-body=false, tag=å•†åº—å»£å‘Šå•†å“ å½è£, enabled=true

http-response ^https:\/\/games\.shopee\.tw\/gameplatform\/api\/v\d\/redeem_store\/item_list\/store\/.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_redeem_store.js,                                  requires-body=true,  tag=éŠæˆ² å…Œæ›å•†åº— éæ¿¾ (éš±è—æŠ˜åƒ¹åˆ¸), enabled=false

http-response ^https:\/\/games\.shopee\.tw\/game\/store\/api\/scenario\/1\d{3}$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/store_scenario_1xxx.js,                                                        requires-body=true,  tag=éŠæˆ² å•†åº— ç§’æ•¸ 0 é ˜ä»»å‹™, enabled=true
http-response ^https:\/\/games\.shopee\.tw\/gameplatform\/api\/v3\/product\/ads\/scenario\/\d+\/settings script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/product_scenario_1xxx.js,                             requires-body=true,  tag=éŠæˆ² å•†åº— ç§’æ•¸ 0 é ˜ä»»å‹™ V3, enabled=true

http-request ^https:\/\/mall\.shopee\.tw\/api\/v2\/user\/profile\/get\/$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_token.js, tag=å–å¾—token

// http-request ^https:\/\/mall\.shopee\.tw\/api\/v4\/account\/basic\/get_account_info$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_get_ua.js, tag=å–å¾— UA

http-request ^https:\/\/games\.shopee\.tw\/api-gateway\/luckydraw\/ping.* script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_luckydraw_ping.js                                            , requires-body=false, tag=éæ¿¾ LuckyDraw PING




// http-request ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/get_product_feeds\?count=.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/get_product_feeds.js,                                requires-body=false, tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° éæ¿¾å•†åº—å»£å‘Š REQ, enabled=true
// http-response ^https:\/\/shopee\.tw\/api\/v4\/market_coin\/get_product_feeds\?count=.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/get_product_feedsS.js,                              requires-body=true,  tag=ğŸ¤æˆ‘çš„è¦å¹£ğŸ’° éæ¿¾å•†åº—å»£å‘Š RES, enabled=true
#    ^https:\/\/games-dailycheckin\.shopee\.tw\/mkt\/coins\/api\/v2\/checkin_new$
// http-request ^https:\/\/games-dailycheckin\.shopee\.tw\/mkt\/coins\/api\/v2\/checkin_new$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_get_checkin.js, requires-body=true, tag=å–å¾— ç°½åˆ°è³‡è¨Š, enabled=true
// http-response ^https:\/\/(games-dailycheckin\.)?shopee\.tw\/mkt\/coins\/api\/v2\/checkin_new$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_checkin.js, requires-body=true, tag=å–å¾— æ¯æ—¥ç°½åˆ°, enabled=true

### http-response ^https:\/\/mall\.shopee\.tw\/api\/v4\/recommend\/recommend.+  script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_recommend.js,                     requires-body=true, tag=éæ…®æ¨è–¦å•†å“, enabled=true
#   http-response ^https:\/\/mall\.shopee\.tw\/api\/v4\/recommend\/recommend.+  script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/crop/shopee_ads_shop_filter2.js,   requires-body=true, tag=éæ…®æ¨è–¦å•†å“2, enabled=true

#   http-response ^https:\/\/games\.shopee\.tw\/api-gateway\/pet\/task\/list\?activityCode=.+&eventCode=.+$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/pet_task_list.js,                    requires-body=true,  tag=å¯µç‰©æ‘ æ¯æ—¥ä»»å‹™/çå‹µå•†åº— ä¿ç•™å…Œæ›é‘½çŸ³, enabled=true

#   http-response ^https:\/\/mall\.shopee\.tw\/api\/v2\/voucher_wallet\/get_user_voucher_list(.*)             script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/shopee2/shopee_filter_voucher.js,                requires-body=true,  tag=æˆ‘çš„å„ªæƒ åˆ¸ éš±è—è³£å ´å„ªæƒ åˆ¸ (å…¨éƒ¨é é¢), enabled=true
#   http-response ^https:\/\/mall\.shopee\.tw\/api\/v4\/mpi\/rcmd\/get_recommended_vouchers_by_model(.*)      script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/shopee2/shopee_filter_recommended.js,            requires-body=true,  tag=æˆ‘çš„å„ªæƒ åˆ¸ éš±è—æ¨è–¦å…§å®¹S, enabled=true

// http-request ^https:\/\/mall\.shopee\.tw\/api\/v4\/pdp\/.+&item_id=1.+shop_id=1       script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_farm_brands_ads_fake.js,                                requires-body=false, tag=å•†åº—å»£å‘Šå•†å“ æœåœ’ç”¨ å½è£, enabled=true
// http-response ^https:\/\/shopee\.tw\/api\/v4\/paidads\/ads\?.+                                            script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/filter/shopee_paidads.js,                                    requires-body=true,  tag=å•†åº—å»£å‘Šå•†å“, enabled=true
# http-response ^https:\/\/shopee\.tw\/api\/v4\/paidads\/ads\?.+                                            script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/shopee2/shopee_filter_fruit_ads.js,                requires-body=true,  tag=å•†åº— ä¸Š 2, enabled=true
#   http-request ^https:\/\/games\.shopee\.tw\/gameplatform\/api\/v\d\/redeem_store\/item_list\/store\/.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/shopee2/shopee_filter_redeem_store.js,               requires-body=false, tag=éŠæˆ² å…Œæ›å•†åº— èª¿æ•´, enabled=true
#   http-response ^https:\/\/games\.shopee\.tw\/gameplatform\/api\/v\d\/redeem_store\/item_list\/store\/.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/shopee2/shopee_filter_redeem_store.js,              requires-body=true,  tag=éŠæˆ² å…Œæ›å•†åº— éæ¿¾2 (éš±è—æŠ˜åƒ¹åˆ¸), enabled=true

// https://games.shopee.tw/gameplatform/api/v3/product/ads/scenario/1032/settings

#http-response ^https:\/\/mall\.shopee\.tw\/api\/v2\/user\/profile\/get\/$ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/shopee0/shopee_get_cookie.js,                                                    requires-body=false, tag=å–å¾— Cookie ST/F 1, enabled=true
#http-response ^https:\/\/mall\.shopee\.tw\/api\/v2\/user\/get_rating_summary\?userid=.+ script-path=https://raw.githubusercontent.com/rjansng/usjs/refs/heads/main/shopee/_shopee/shopee0/shopee_get_cookie.js,                                      requires-body=false, tag=å–å¾— Cookie ST/F 2, enabled=true
# http-request ^https:\/\/mall\.shopee\.tw\/api\/v2\/user\/profile\/get\/$ script-path=https://kinta.ma/surge/scripts/shopee_token.js, tag=å–å¾—token

[MITM]
hostname=games-dailycheckin.shopee.tw,shopee.tw,mall.shopee.tw,games.shopee.tw,-sdany.org,-*.sdany.org,-*.somee.com
